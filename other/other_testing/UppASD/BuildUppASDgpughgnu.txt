# Build instructions for UppASD on Dardel Grace Hopper GPU nodes

# Load the environment
ml PrgEnv-gnu
ml gcc-native/13.2
ml cudatoolkit/24.11_12.6
ml cray-fftw/3.3.10.10
ml cmake/4.1.2
ml craype-accel-nvidia90

# Configure with CMake
cmake -S . -B buildGnu -DUSE_CUDA=1 -DCMAKE_CXX_STANDARD=20 -DCMAKE_BUILD_TYPE=Debug

# Build
cmake --build buildGnu -j 72

# Alternatively, use one of the CMake preset build configurations
cmake --preset releaseCuda
cmake --build build/releaseCuda -j 72

# The available preset configurations can be listed with
cmake --list-presets
